<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Frontier finance dashboard." />
    <title>Frontier Oil & Gas Company | Finances</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/assets/css/tokens.css?v=20260221l" />
    <link rel="stylesheet" href="/assets/css/base.css?v=20260221l" />
    <link rel="stylesheet" href="/assets/css/components.css?v=20260221l" />
    <link rel="stylesheet" href="/assets/css/pages.css?v=20260221l" />
  </head>
  <body class="page page-intranet">
    <header class="site-header">
      <div class="container header-row">
        <a class="brand" href="/">
          <span class="brand-mark" aria-hidden="true">FOG</span>
          <span class="brand-text">Frontier Oil &amp; Gas Company</span>
        </a>
        <nav class="site-nav" aria-label="Primary"></nav>
      </div>
    </header>

    <main class="section">
      <div class="container intranet-layout">
        <section class="panel finance-page-header">
          <div class="finance-head">
            <div>
              <h1>Finances</h1>
              <p class="finance-subtitle">Voyage revenue &amp; company share performance</p>
            </div>
            <div class="finance-range-control segmented-control" role="group" aria-label="Finance range">
              <button class="segmented-btn is-active" type="button" data-finance-range="week">Week</button>
              <button class="segmented-btn" type="button" data-finance-range="month">Month</button>
              <button class="segmented-btn" type="button" data-finance-range="3m">3M</button>
              <button class="segmented-btn" type="button" data-finance-range="6m">6M</button>
              <button class="segmented-btn" type="button" data-finance-range="year">Year</button>
            </div>
          </div>
          <nav class="finance-tabs" aria-label="Finance sections">
            <button class="finance-tab is-active" type="button" data-finance-tab="overview" aria-current="page">Overview</button>
            <button class="finance-tab" type="button" data-finance-tab="trends">Trends</button>
            <button class="finance-tab" type="button" data-finance-tab="debts">Debts</button>
            <button class="finance-tab" type="button" data-finance-tab="audit">Audit</button>
          </nav>
          <div id="guardFeedback" class="feedback" role="status" aria-live="polite"></div>
          <div id="financesFeedback" class="feedback" role="status" aria-live="polite"></div>
        </section>

        <section id="protectedContent" class="finance-dashboard-shell">
          <section id="financeTabOverview" class="finance-tab-panel is-active" data-finance-panel="overview">
            <div class="finance-kpi-grid">
              <article class="finance-kpi">
                <span class="finance-kpi-icon" aria-hidden="true">‚Üó</span>
                <p class="finance-kpi-label">Net Profit</p>
                <p id="kpiNetProfit" class="finance-kpi-value"><span class="finance-value-skeleton"></span></p>
              </article>
              <article class="finance-kpi">
                <span class="finance-kpi-icon" aria-hidden="true">üè¢</span>
                <p class="finance-kpi-label">Company Share (10%)</p>
                <p id="kpiCompanyShare" class="finance-kpi-value"><span class="finance-value-skeleton"></span></p>
              </article>
              <article class="finance-kpi">
                <span class="finance-kpi-icon" aria-hidden="true">üë•</span>
                <p class="finance-kpi-label">Crew Share (90%)</p>
                <p id="kpiCrewShare" class="finance-kpi-value"><span class="finance-value-skeleton"></span></p>
              </article>
              <article class="finance-kpi">
                <span class="finance-kpi-icon" aria-hidden="true">üì¶</span>
                <p class="finance-kpi-label">Freight Loss Value</p>
                <p id="kpiLossValue" class="finance-kpi-value"><span class="finance-value-skeleton"></span></p>
              </article>
              <article class="finance-kpi">
                <span class="finance-kpi-icon" aria-hidden="true">‚úì</span>
                <p class="finance-kpi-label">Completed Voyages</p>
                <p id="kpiCompletedVoyages" class="finance-kpi-value"><span class="finance-value-skeleton"></span></p>
              </article>
              <article class="finance-kpi">
                <span class="finance-kpi-icon" aria-hidden="true">‚è≥</span>
                <p class="finance-kpi-label">Unsettled Outstanding</p>
                <p id="kpiUnsettled" class="finance-kpi-value"><span class="finance-value-skeleton"></span></p>
              </article>
            </div>

            <div class="finance-overview-main">
              <article class="finance-chart-card finance-overview-primary">
                <h3>Net Profit Trend</h3>
                <div id="chartNetProfit" class="finance-chart-host">
                  <div class="finance-chart-skeleton"></div>
                </div>
              </article>

              <article class="finance-chart-card finance-overview-side">
                <div class="finance-overview-unsettled-top">
                  <h3>Unsettled Company Share</h3>
                  <p id="unsettledOutstandingTotal" class="finance-overview-unsettled-amount"><span class="finance-value-skeleton"></span></p>
                  <p id="unsettledVoyageCount" class="finance-overview-unsettled-count">Unsettled Voyages: 0</p>
                </div>
                <ul id="unsettledTopList" class="finance-unsettled-list">
                  <li class="finance-unsettled-item"><span class="finance-line-skeleton"></span></li>
                  <li class="finance-unsettled-item"><span class="finance-line-skeleton"></span></li>
                  <li class="finance-unsettled-item"><span class="finance-line-skeleton"></span></li>
                </ul>
                <a class="btn btn-secondary finance-unsettled-link" href="/finances?tab=debts" data-finance-open-tab="debts">View Debts &rarr;</a>
              </article>
            </div>

            <div class="finance-overview-breakdown">
              <article class="finance-mini-tile">
                <p class="finance-mini-label">Company Share (10%)</p>
                <p id="overviewCompanyMini" class="finance-mini-number">∆í 0</p>
              </article>
              <article class="finance-mini-tile">
                <p class="finance-mini-label">Crew Share (90%)</p>
                <p id="overviewCrewMini" class="finance-mini-number">∆í 0</p>
              </article>
            </div>
          </section>

          <section id="financeTabTrends" class="finance-tab-panel hidden" data-finance-panel="trends">
            <div class="finance-main-chart-grid finance-trends-grid">
              <article class="finance-chart-card">
                <h3>Net Profit Trend</h3>
                <div id="trendsChartNetProfit" class="finance-chart-host"><div class="finance-chart-skeleton"></div></div>
              </article>
              <article class="finance-chart-card">
                <h3>Net Profit vs Freight Loss</h3>
                <div id="trendsChartNetProfitLoss" class="finance-chart-host"><div class="finance-chart-skeleton"></div></div>
              </article>
              <article class="finance-chart-card">
                <h3>Freight Loss Value Trend</h3>
                <div id="trendsChartLossTrend" class="finance-chart-host"><div class="finance-chart-skeleton"></div></div>
              </article>
              <article class="finance-chart-card">
                <h3>Average Profit per Voyage</h3>
                <div id="trendsChartAvgProfit" class="finance-chart-host"><div class="finance-chart-skeleton"></div></div>
              </article>
            </div>
          </section>

          <section id="financeTabDebts" class="finance-tab-panel hidden" data-finance-panel="debts">
            <article class="finance-chart-card finance-filter-card">
              <div class="filter-row">
                <div>
                  <label for="debtSearch">Search OOTW / Vessel / Route</label>
                  <input id="debtSearch" type="text" />
                </div>
                <div>
                  <label for="debtMinOutstanding">Only show &gt;= ∆í X</label>
                  <input id="debtMinOutstanding" type="number" min="0" step="1" />
                </div>
                <div>
                  <label for="debtScope">Scope</label>
                  <select id="debtScope">
                    <option value="all">All Time</option>
                    <option value="range">This Range</option>
                  </select>
                </div>
              </div>
              <div class="finance-summary-strip">
                <article class="finance-summary-chip"><span>Total Outstanding</span><strong id="debtSummaryOutstanding">∆í 0</strong></article>
                <article class="finance-summary-chip"><span>Unsettled Voyages</span><strong id="debtSummaryVoyages">0</strong></article>
                <article class="finance-summary-chip"><span>Unique OOTW</span><strong id="debtSummaryOotw">0</strong></article>
              </div>
            </article>

            <article class="finance-chart-card finance-debts-group-card">
              <div id="financeDebtsGroups" class="finance-debt-groups"></div>
              <div class="pagination-row">
                <button id="financeDebtsPrev" class="btn btn-secondary" type="button">Previous</button>
                <span id="financeDebtsPageInfo" class="pagination-info">Page 1 of 1</span>
                <button id="financeDebtsNext" class="btn btn-secondary" type="button">Next</button>
              </div>
            </article>
          </section>

          <section id="financeTabAudit" class="finance-tab-panel hidden" data-finance-panel="audit">
            <article class="finance-chart-card finance-filter-card">
              <div class="filter-row">
                <div>
                  <label for="auditSettledBy">Settled by</label>
                  <input id="auditSettledBy" type="text" />
                </div>
                <div>
                  <label for="auditDateFrom">From</label>
                  <input id="auditDateFrom" type="date" />
                </div>
                <div>
                  <label for="auditDateTo">To</label>
                  <input id="auditDateTo" type="date" />
                </div>
              </div>
            </article>

            <article class="finance-chart-card finance-table-card">
              <div class="table-wrap">
                <table class="data-table finance-data-table">
                  <thead>
                    <tr>
                      <th>Timestamp</th>
                      <th>Voyage</th>
                      <th>Route</th>
                      <th class="align-right">Amount ∆í</th>
                      <th>OOTW</th>
                      <th>Settled By</th>
                    </tr>
                  </thead>
                  <tbody id="financeAuditBody">
                    <tr><td colspan="6"><div class="finance-chart-skeleton"></div></td></tr>
                  </tbody>
                </table>
              </div>
              <div id="financeAuditEmpty" class="finance-empty-state hidden">
                <span class="finance-empty-icon" aria-hidden="true">‚è±</span>
                <p>No settlement actions recorded yet.</p>
              </div>
              <div class="pagination-row">
                <button id="financeAuditPrev" class="btn btn-secondary" type="button">Previous</button>
                <span id="financeAuditPageInfo" class="pagination-info">Page 1 of 1</span>
                <button id="financeAuditNext" class="btn btn-secondary" type="button">Next</button>
              </div>
            </article>
          </section>
        </section>
      </div>
    </main>

    <script type="module" src="/assets/js/pages/finances-page.js?v=20260221l"></script>
  </body>
</html>
